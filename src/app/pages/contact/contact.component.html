<section class="max-w-7xl mx-auto px-6 py-16">
  <h2 class="text-3xl md:text-4xl font-bold text-center mb-4">
    {{ "contact.title" | translate }}
  </h2>
  <p class="text-center mb-12">
    {{ "contact.subtitle_pt1" | translate }}
    <br />
    {{ "contact.subtitle_pt2" | translate }}
  </p>

  <div class="grid md:grid-cols-2 gap-10">
    <!-- Left Column -->
    <div class="flex flex-col gap-4">
      <div
        class="bg-richBlack/5 dark:bg-almond/10 p-5 rounded-lg flex items-start gap-4"
      >
        <svg
          class="w-5 h-5"
          viewBox="0 0 24.00 24.00"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          stroke="#09814a"
          stroke-width="0.00024000000000000003"
          transform="rotate(0)"
        >
          <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
          <g
            id="SVGRepo_tracerCarrier"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke="#CCCCCC"
            stroke-width="0.24000000000000005"
          ></g>
          <g id="SVGRepo_iconCarrier">
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M3.75 5.25L3 6V18L3.75 18.75H20.25L21 18V6L20.25 5.25H3.75ZM4.5 7.6955V17.25H19.5V7.69525L11.9999 14.5136L4.5 7.6955ZM18.3099 6.75H5.68986L11.9999 12.4864L18.3099 6.75Z"
              fill="#09814a"
            ></path>
          </g>
        </svg>
        <div>
          <p class="font-semibold">Email</p>
          <a
            href="mailto:marcocipolletta1998@gmail.com"
            class="text-accent hover:underline"
          >
            marcocipolletta1998&#64;gmail.com
          </a>
        </div>
      </div>

      <div
        class="bg-richBlack/5 dark:bg-almond/10 p-5 rounded-lg flex items-start gap-4"
      >
        <svg class="w-5 h-5" fill="seaGreen" viewBox="0 0 24 24">
          <path
            d="M16.7 13.3c-.3-.2-1.9-.9-2.2-1-.3-.1-.5-.2-.7.2s-.8 1-.9 1.1c-.2.1-.4.1-.7 0-.3-.2-1.2-.4-2.2-1.4-.8-.7-1.4-1.6-1.6-1.9-.2-.3 0-.4.1-.6.1-.1.3-.4.4-.6.1-.2.1-.4 0-.6s-.7-1.6-.9-2.2c-.2-.5-.5-.5-.7-.5h-.6c-.2 0-.5.1-.7.4s-.9 1.1-.9 2.7 1 3.1 1.2 3.3c.1.1 2.1 3.2 5.1 4.5.7.3 1.2.5 1.6.6.7.2 1.4.2 1.9.1.6-.1 1.9-.8 2.2-1.5.3-.6.3-1.3.2-1.4-.2-.1-.5-.2-.8-.3z"
          />
          <path
            d="M20 4.3C17.7 2.1 14.5 1 11.2 1 5.2 1 0.3 6 0.3 12c0 2.1.5 4.1 1.5 5.9L0 23l5.3-1.4c1.7 1 3.7 1.5 5.9 1.5 6 0 10.9-4.9 10.9-10.9 0-3.3-1.1-6.4-3.3-8.6zM11.2 21c-1.9 0-3.7-.5-5.3-1.5l-.4-.2-3.2.9.9-3.1-.2-.4C2 15.2 1.5 13.6 1.5 12c0-5.3 4.3-9.5 9.6-9.5 2.5 0 4.8 1 6.5 2.7s2.7 4 2.7 6.5c0 5.2-4.3 9.5-9.6 9.5z"
          />
        </svg>
        <div>
          <p class="font-semibold">{{ "contact.phone" | translate }}</p>
          <a
            href="https://wa.me/3278836990?text=Ciao%20sono%20interessato%20al%20tuo%20portfolio!"
            target="_blank"
            class="text-accent hover:underline"
            >+39 327 883 6990</a
          >
        </div>
      </div>

      <div
        class="bg-richBlack/5 dark:bg-almond/10 p-5 rounded-lg flex items-start gap-4"
      >
        <svg
          class="w-6 h-6 text-seaGreen"
          fill="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zM7 9a5 5 0 1 1 10 0c0 2.98-3.06 7.27-5 9.88C10.06 16.27 7 11.98 7 9z"
          />
          <circle cx="12" cy="9" r="2.5" />
        </svg>
        <div>
          <p class="font-semibold">{{ "contact.location" | translate }}</p>
          <p>Italy</p>
        </div>
      </div>
      <div class="flex gap-4">
        <a
          href="https://github.com/MarcoCipolletta"
          target="_blank"
          class="bg-richBlack/5 dark:bg-almond/10 px-4 py-2 rounded-lg hover:bg-richBlack/15 dark:hover:bg-almond/20 transition duration-300 flex items-center justify-center gap-1"
        >
          <span class="flex items-center justify-center text-seaGreen"
            ><ng-icon class="" name="iconoirGithub"></ng-icon
          ></span>
          GitHub
        </a>
        <a
          href="https://www.linkedin.com/in/marco-cipolletta/"
          target="_blank"
          class="bg-richBlack/5 dark:bg-almond/10 px-4 py-2 rounded-lg hover:bg-richBlack/15 dark:hover:bg-almond/20 transition duration-300 flex items-center justify-center gap-1"
        >
          <span class="flex items-center justify-center text-seaGreen"
            ><ng-icon class="" name="iconoirLinkedin"></ng-icon
          ></span>
          LinkedIn
        </a>
      </div>
    </div>

    <!-- Right Column -->

    <form
      [formGroup]="contactForm"
      class="flex flex-col gap-6"
      (ngSubmit)="invia()"
    >
      <h1 class="font-bold text-2xl md:hidden">
        {{ "contact.form.title" | translate }}
      </h1>
      <div class="relative">
        <input
          type="text"
          [placeholder]="'contact.form.name' | translate"
          formControlName="name"
          class="w-full bg-richBlack/5 dark:bg-almond/10 px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-accent"
        />
        <span class="validator" role="alert" *ngIf="isInvalidTouched('name')"
          ><ng-icon name="iconoirEmojiSad"></ng-icon>
          {{ getError("name") }}</span
        >
      </div>
      <div class="relative">
        <input
          type="email"
          formControlName="email"
          placeholder="Email"
          class="w-full bg-richBlack/5 dark:bg-almond/10 px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-accent"
        />
        <span class="validator" role="alert" *ngIf="isInvalidTouched('email')"
          ><ng-icon name="iconoirEmojiSad"></ng-icon>
          {{ getError("email") }}</span
        >
      </div>
      <div class="relative">
        <textarea
          formControlName="message"
          [placeholder]="'contact.form.message' | translate"
          class="w-full bg-richBlack/5 dark:bg-almond/10 px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-accent"
        ></textarea>
        <span
          class="validator last"
          role="alert"
          *ngIf="isInvalidTouched('message')"
          ><ng-icon name="iconoirEmojiSad"></ng-icon>
          {{ getError("message") }}</span
        >
      </div>
      <button
        type="submit"
        [disabled]="!contactForm.valid"
        class="w-full bg-accent hover:bg-seaGreen/90 transition-colors duration-300 cursor-pointer px-4 py-3 rounded-lg font-semibold"
        [ngClass]="{ 'pointer-events-none bg-accent/20': !contactForm.valid }"
      >
        {{ "contact.form.btn" | translate }}
      </button>
    </form>
  </div>
</section>

<!-- TOAST -->
<!-- TODO: cambaire colori al toast -->
<div
  *ngIf="showToast"
  class="fixed top-20 right-5 z-50 flex items-center w-full max-w-xs p-4 text-white rounded-lg shadow-lg animate-slide-in"
  [ngClass]="{
    'bg-green-500': toastColor === 'success',
    'bg-red-700/90': toastColor === 'error'
  }"
>
  <svg
    class="w-5 h-5 mr-3"
    fill="none"
    stroke="currentColor"
    stroke-width="2"
    viewBox="0 0 24 24"
  >
    <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
  </svg>
  <span class="text-sm font-medium">{{ toastMessage }}</span>
  <button
    (click)="hideToast()"
    class="ml-auto -mx-1.5 -my-1.5 text-white rounded-lg cursor-pointer p-1"
  >
    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
      <path
        fill-rule="evenodd"
        d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
        clip-rule="evenodd"
      />
    </svg>
  </button>
</div>
